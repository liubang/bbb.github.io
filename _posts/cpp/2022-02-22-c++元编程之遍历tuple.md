---
layout: article
title: c++元编程之遍历tuple
tags: [c++, template]
---

对于一个标准的 c++容器来说，我们可以很容易在运行时使用迭代器和 range-based for
loop 来遍历其中的每一个元素。但是对于`std::tuple`，却不能像普通的容器那样去遍历它。

## std::tuple 简介

`std::tuple`是一个具有固定大小，包含不同类型值的集和。与之相似的是`std::pair`，只不过`std::pair`只能容纳两个元素，
而`std::tuple`可以容纳许多元素：

```cpp
std::tuple<int, double, const char*> tup {42, 10.5, "hello"};

// or with CTAD(class template argument deduction), C++17:
std::tuple deducedTup {42, 10.5, "hello"}; // 自动推导类型
```

访问`std::pair`中的元素只需要访问`.first`和`.second`成员即可:

```cpp
std::pair p = {10, 10.5};
p.first += 10;
```

然而`std::tuple`并没有类似于`.first`
`.second`的成员，标准库中我们只能通过`std::get`来直接访问其中的元素:

```cpp
std::tuple tp {1, 2, "hello", "world", 10.5};

// by index
std::get<0>(tp) += 10;
std::get<1>(tp) *= 20;
std::cout << std::get<2>(tp) << '\n'; // hello
std::cout << std::get<3>(tp) << '\n'; // world

// by type
std::cout << std::get<double>(tp) << '\n'; // 10.5
```

## 如何遍历 tuple

对 tuple 有了初步的了解，也知道了如何去获取 tuple 中的元素，那么接下来我们就来一步步构造对 tuple 遍历的方法。
