+++
type = "docs"
title = "动态规划"
navWeight = 60
+++

## 背包问题

根据维基百科，背包问题（Knapsack problem）是一种组合优化的 NP 完全（NP-Complete，NPC）问题。问题可以描述为：给定一组物品，每种物品都有自己的重量和价格，在限定的总重量内，我们如何选择，才能使得物品的总价格最高。NPC 问题是没有多项式时间复杂度的解法的，但是利用动态规划，我们可以以伪多项式时间复杂度求解背包问题。一般来讲，背包问题有以下几种分类：

- 01 背包问题
- 完全背包问题
- 多重背包问题

### 01 背包问题

最基本的背包问题就是 01 背包问题（01 knapsack problem）：一共有 N 件物品，第 i（i 从 1 开始）件物品的重量为 w[i]，价值为 v[i]。在总重量不超过背包承载上限 W 的情况下，能够装入背包的最大价值是多少？

假设$dp[i][j]$为前$i$个物品，在总体积不大于$j$的情况下的最大价值，那么状态转移方程分为两种情况:

1. 当不选第$i$个物品时:

   $$dp[i][j] = dp[i - 1][j]$$

2. 当选第$i$个物品时:

   $$dp[i][j] = dp[i - 1][j - w[i]] + v[i]$$

### 完全背包问题

完全背包（unbounded knapsack problem）与 01 背包不同就是每种物品可以有无限多个：一共有 N 种物品，每种物品有无限多个，第 i（i 从 1 开始）种物品的重量为 w[i]，价值为 v[i]。在总重量不超过背包承载上限 W 的情况下，能够装入背包的最大价值是多少？

假设$dp[i][j]$为前$i$个物品，在总体积不大于$j$的情况下的最大价值，那么状态转移方程分为两种情况:

1. 当不选第$i$个物品时:

   $$dp[i][j] = dp[i - 1][j]$$

2. 当选第$i$个物品时，假设选了$k$次，结果最优:

   $$dp[i][j] = dp[i - 1][j - k * w[i]] + k * v[i]$$
